<div class="container">

  <div class="row">
    <div class="show-buttons">
      <%= link_to "Back", :back %> <%= link_to 'Edit', edit_plant_path(@plant) %>
    </div>


    <div class="four columns">
      <h1>
        <strong><%= @plant.nickname%></strong>
      </h1>
      <h5>
        <em><%= @plant.common_name%></em>
      </h5>
    </div>
  </div>


  <div class="four columns">
    <table class="u-full-width">
      <thead>
        <tr>
          <th>Light Requirements</th>
          <th>Water</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><%= @plant.light%></td>
          <td>Every <%= @plant.water_freq %> days</td>
        </tr>
      </tbody>
    </table>
  </div>


<!-- WaterEvents -->
    <div class="three columns">
      <div>Water Events</div>
      <% @plant.water_events.each do |e| %>
      <div class="row">
        <div>
          <time class="timestring"><%= e.water_date %></time>
        </div>
        <div>
          <%= link_to fa_icon('trash'), water_event_path(e.id), class: 'button', method: :delete, data: { confirm: "Are you sure you want to delete this?" } %>
        </div>
      </div>
      <% end %>
      <br>
    </div>

    <!-- Plantlog -->
    <div class= "twelve columns">
      <label for="plant-log"><h4>Plant Log</h4></label>
        <%= render 'plantlogs/form' %>

        <h2>Log History </h2>
        <%= render @plant.plantlogs %>

    </div>
  </div>
</div>

<!-- script to render water event times according to client's system time -->

<script>
(function() {
  'use strict';

  $(document).ready(function() {
    $('.timestring').each(function() {
      this.textContent = moment(this.textContent, 'YYYY-MM-DD hh:mm:ss ZZ').format('lll');
    });
  });
})();
</script>
